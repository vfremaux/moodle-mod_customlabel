/**
 * @module     customlabeltype_verticalspacer
 * @package    customlabeltype
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("customlabeltype_verticalspacer/customlabel",["jquery","core/config","core/log"],(function($,cfg,log){var customboxverticalspacer={catched:0,verticalspacerlocation:[],verticalspacerpagelocation:[],init:function(){$(".custombox-verticalspacer-handle").off(),$(".custombox-verticalspacer-handle").bind("mousedown",this.mousedown),$(".custombox-verticalspacer-handle").bind("mouseup",this.mouseup),$(".custombox-verticalspacer-handle").bind("mousemove",this.mousemove),log.debug("AMD customlabel verticalspacer initialized")},mousedown:function(e){var that=$(this);log.debug("Catching "+that.attr("id"));var fullid=that.attr("id").replace("verticalspacer-handle-",""),spacerid="custombox-verticalspacer-"+fullid,customid=fullid.split("-")[1],spacerheight=$("#"+spacerid).css("height").replace(/em|px/,"");return customboxverticalspacer.verticalspacerlocation[customid]=parseInt(spacerheight),customboxverticalspacer.verticalspacerpagelocation[customid]=e.pageY,customboxverticalspacer.catched=!0,e.stopImmediatePropagation(),!1},mouseup:function(e){var that=$(this);log.debug("Releasing "+that.attr("id"));var parts=that.attr("id").replace("custombox-verticalspacer-","").split("-"),courseid=parts[0],customid=parts[1];customboxverticalspacer.verticalspacerlocation[customid]=0,customboxverticalspacer.verticalspacerpagelocation[customid]=0,customboxverticalspacer.catched=!1;var height=that.css("height"),url=cfg.wwwroot+"/mod/customlabel/type/verticalspacer/ajax/service.php";return url+="?id="+courseid,url+="&cid="+customid,url+="&height="+height.replace(/em|px/,""),$.get(url),e.stopImmediatePropagation(),!1},mousemove:function(e){if(customboxverticalspacer.catched){var that=$(this);log.debug("Moving "+that.attr("id"));var dist,newheight,fullid=that.attr("id").replace("verticalspacer-handle-",""),parts=fullid.split("-"),spacerid="custombox-verticalspacer-"+fullid,customid=parts[1];return 0!=customboxverticalspacer.verticalspacerlocation[customid]&&(dist=e.pageY-customboxverticalspacer.verticalspacerpagelocation[customid],newheight=customboxverticalspacer.verticalspacerlocation[customid]+dist+"px",$("#"+spacerid).css("height",newheight)),e.stopImmediatePropagation(),!1}}};return customboxverticalspacer}));

//# sourceMappingURL=customlabel.min.js.map